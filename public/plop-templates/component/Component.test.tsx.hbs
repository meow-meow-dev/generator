import type { RenderResult } from "@testing-library/react";
import type { ComponentProps } from "react";

import { render, screen } from "@testing-library/react";
import { TestWrapperWithRouter } from "eki-stamps/client/components/test_wrapper";
import { afterAll, describe, it } from "vitest";
import MatchMediaMock from "vitest-matchmedia-mock";
import { {{ name }} } from "./{{ name }}.jsx"

function buildTestComponent(
  props: ComponentProps<typeof {{ name }}>,
): RenderResult & {
  // TODO declare elements required in tests 
  clearButton: HTMLElement;
} {
  function Component(): JXS.Element {
    return <{{ name }} {...props} />;
  }

  const utils = render(
    <TestWrapperWithRouter
      Component={Component}
    />,
  );

  const clearButton = screen.getByTestId("clear-button");

  return {
    ...utils,
    clearButton,
  };
}

describe("{{ name }}", () => {
    // TODO remove once the mock from Mantine docs is configured
  const matchMediaMock = new MatchMediaMock();
  afterAll(() => {
    matchMediaMock.clear();
  });

  it("XXX domes something", async ({ expect }) => {
    const { clearButton } = buildTestComponent({
      /* TODO add props */
    });

    // TODO write tests
  });
});
